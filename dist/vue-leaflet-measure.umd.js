(function(r,w){typeof exports=="object"&&typeof module<"u"?module.exports=w(require("vue")):typeof define=="function"&&define.amd?define(["vue"],w):(r=typeof globalThis<"u"?globalThis:r||self,r.VueLeafletMeasure=w(r.vue))})(this,function(r){"use strict";const w={acres:{factor:24711e-8,display:"acres",decimals:2},feet:{factor:3.2808,display:"feet",decimals:0},kilometers:{factor:.001,display:"km",decimals:2},hectares:{factor:1e-4,display:"hectares",decimals:2},meters:{factor:1,display:"m",decimals:0},miles:{factor:.0006213636363636364,display:"miles",decimals:2},sqfeet:{factor:10.7639,display:"sqfeet",decimals:0},sqmeters:{factor:1,display:"m\xB2",decimals:0},sqkilometers:{factor:.001,display:"km\xB2",decimals:0},sqmiles:{factor:386102e-12,display:"sqmiles",decimals:2}};var f=63710088e-1,X={meters:f,metres:f,millimeters:f*1e3,millimetres:f*1e3,centimeters:f*100,centimetres:f*100,kilometers:f/1e3,kilometres:f/1e3,miles:f/1609.344,nauticalmiles:f/1852,inches:f*39.37,yards:f/1.0936,feet:f*3.28084,radians:1,degrees:f/111325};function V(e,s,t){if(t=t||{},!x(t))throw new Error("options is invalid");var i=t.bbox,a=t.id;if(e===void 0)throw new Error("geometry is required");if(s&&s.constructor!==Object)throw new Error("properties must be an Object");i&&ee(i),a&&te(a);var o={type:"Feature"};return a&&(o.id=a),i&&(o.bbox=i),o.properties=s||{},o.geometry=e,o}function Y(e,s,t){if(!e)throw new Error("coordinates is required");if(e.length<2)throw new Error("coordinates must be an array of two or more positions");if(!T(e[0][1])||!T(e[0][1]))throw new Error("coordinates must contain numbers");return V({type:"LineString",coordinates:e},s,t)}function I(e,s){if(e==null)throw new Error("radians is required");if(s&&typeof s!="string")throw new Error("units must be a string");var t=X[s||"kilometers"];if(!t)throw new Error(s+" units is invalid");return e*t}function P(e){if(e==null)throw new Error("degrees is required");var s=e%360;return s*Math.PI/180}function T(e){return!isNaN(e)&&e!==null&&!Array.isArray(e)}function x(e){return!!e&&e.constructor===Object}function ee(e){if(!e)throw new Error("bbox is required");if(!Array.isArray(e))throw new Error("bbox must be an Array");if(e.length!==4&&e.length!==6)throw new Error("bbox must be an Array of 4 or 6 numbers");e.forEach(function(s){if(!T(s))throw new Error("bbox must only contain numbers")})}function te(e){if(!e)throw new Error("id is required");if(["string","number"].indexOf(typeof e)===-1)throw new Error("id must be a number or a string")}function R(e){if(!e)throw new Error("coord is required");if(e.type==="Feature"&&e.geometry!==null&&e.geometry.type==="Point")return e.geometry.coordinates;if(e.type==="Point")return e.coordinates;if(Array.isArray(e)&&e.length>=2&&e[0].length===void 0&&e[1].length===void 0)return e;throw new Error("coord must be GeoJSON Point or an Array of numbers")}function se(e,s,t){if(t=t||{},!x(t))throw new Error("options is invalid");var i=t.units,a=R(e),o=R(s),u=P(o[1]-a[1]),c=P(o[0]-a[0]),n=P(a[1]),l=P(o[1]),m=Math.pow(Math.sin(u/2),2)+Math.pow(Math.sin(c/2),2)*Math.cos(n)*Math.cos(l);return I(2*Math.atan2(Math.sqrt(m),Math.sqrt(1-m)),i)}function O(e,s,t){if(e!==null)for(var i,a,o,u,c,n,l,m=0,h=0,d,p=e.type,E=p==="FeatureCollection",N=p==="Feature",S=E?e.features.length:1,k=0;k<S;k++){l=E?e.features[k].geometry:N?e.geometry:e,d=l?l.type==="GeometryCollection":!1,c=d?l.geometries.length:1;for(var v=0;v<c;v++){var _=0,b=0;if(u=d?l.geometries[v]:l,u!==null){n=u.coordinates;var g=u.type;switch(m=t&&(g==="Polygon"||g==="MultiPolygon")?1:0,g){case null:break;case"Point":if(s(n,h,k,_,b)===!1)return!1;h++,_++;break;case"LineString":case"MultiPoint":for(i=0;i<n.length;i++){if(s(n[i],h,k,_,b)===!1)return!1;h++,g==="MultiPoint"&&_++}g==="LineString"&&_++;break;case"Polygon":case"MultiLineString":for(i=0;i<n.length;i++){for(a=0;a<n[i].length-m;a++){if(s(n[i][a],h,k,_,b)===!1)return!1;h++}g==="MultiLineString"&&_++,g==="Polygon"&&b++}g==="Polygon"&&_++;break;case"MultiPolygon":for(i=0;i<n.length;i++){for(g==="MultiPolygon"&&(b=0),a=0;a<n[i].length;a++){for(o=0;o<n[i][a].length-m;o++){if(s(n[i][a][o],h,k,_,b)===!1)return!1;h++}b++}_++}break;case"GeometryCollection":for(i=0;i<u.geometries.length;i++)if(O(u.geometries[i],s,t)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function q(e,s){var t,i,a,o,u,c,n,l,m,h,d=0,p=e.type==="FeatureCollection",E=e.type==="Feature",N=p?e.features.length:1;for(t=0;t<N;t++){for(c=p?e.features[t].geometry:E?e.geometry:e,l=p?e.features[t].properties:E?e.properties:{},m=p?e.features[t].bbox:E?e.bbox:void 0,h=p?e.features[t].id:E?e.id:void 0,n=c?c.type==="GeometryCollection":!1,u=n?c.geometries.length:1,a=0;a<u;a++){if(o=n?c.geometries[a]:c,o===null){if(s(null,d,l,m,h)===!1)return!1;continue}switch(o.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":{if(s(o,d,l,m,h)===!1)return!1;break}case"GeometryCollection":{for(i=0;i<o.geometries.length;i++)if(s(o.geometries[i],d,l,m,h)===!1)return!1;break}default:throw new Error("Unknown Geometry Type")}}d++}}function re(e,s,t){var i=t;return q(e,function(a,o,u,c,n){o===0&&t===void 0?i=a:i=s(i,a,o,u,c,n)}),i}function ie(e,s){q(e,function(t,i,a,o,u){var c=t===null?null:t.type;switch(c){case null:case"Point":case"LineString":case"Polygon":return s(V(t,a,{bbox:o,id:u}),i,0)===!1?!1:void 0}var n;switch(c){case"MultiPoint":n="Point";break;case"MultiLineString":n="LineString";break;case"MultiPolygon":n="Polygon";break}for(var l=0;l<t.coordinates.length;l++){var m=t.coordinates[l],h={type:n,coordinates:m};if(s(V(h,a),i,l)===!1)return!1}})}function ae(e,s){ie(e,function(t,i,a){var o=0;if(!!t.geometry){var u=t.geometry.type;if(!(u==="Point"||u==="MultiPoint")){var c;if(O(t,function(n,l,m,h,d){if(c===void 0){c=n;return}var p=Y([c,n],t.properties);if(s(p,i,a,d,o)===!1)return!1;o++,c=n})===!1)return!1}}})}function oe(e,s,t){var i=t,a=!1;return ae(e,function(o,u,c,n,l){a===!1&&t===void 0?i=o:i=s(i,o,u,c,n,l),a=!0}),i}function ne(e,s){if(s=s||{},!x(s))throw new Error("options is invalid");if(!e)throw new Error("geojson is required");return oe(e,function(t,i){var a=i.geometry.coordinates;return t+se(a[0],a[1],s)},0)}function le(e){return re(e,function(s,t){return s+L(t)},0)}var $=6378137;function L(e){var s=0,t;switch(e.type){case"Polygon":return z(e.coordinates);case"MultiPolygon":for(t=0;t<e.coordinates.length;t++)s+=z(e.coordinates[t]);return s;case"Point":case"MultiPoint":case"LineString":case"MultiLineString":return 0;case"GeometryCollection":for(t=0;t<e.geometries.length;t++)s+=L(e.geometries[t]);return s}}function z(e){var s=0;if(e&&e.length>0){s+=Math.abs(j(e[0]));for(var t=1;t<e.length;t++)s-=Math.abs(j(e[t]))}return s}function j(e){var s,t,i,a,o,u,c,n=0,l=e.length;if(l>2){for(c=0;c<l;c++)c===l-2?(a=l-2,o=l-1,u=0):c===l-1?(a=l-1,o=0,u=1):(a=c,o=c+1,u=c+2),s=e[a],t=e[o],i=e[u],n+=(A(i[0])-A(s[0]))*Math.sin(A(t[1]));n=n*$*$/2}return n}function A(e){return e*Math.PI/180}function B(e){return e<10?"0"+e.toString():e.toString()}function G(e,s,t){const i=Math.abs(e),a=Math.floor(i),o=Math.floor((i-a)*60),u=Math.round((i-a-o/60)*3600*100)/100,c=i===e?s:t;return B(a)+"\xB0 "+B(o)+"' "+B(u)+'" '+c}function U(e,s){const t=s[s.length-1],i=s.map(n=>[n.lat,n.lng]),a=e.polyline(i),o=e.polygon(i),u=ne(a.toGeoJSON(),{units:"kilometers"})*1e3,c=le(o.toGeoJSON());return{lastCoord:{dd:{x:t.lng,y:t.lat},dms:{x:G(t.lng,"E","W"),y:G(t.lat,"N","S")}},length:u,area:c}}function y(e,s){return s||(s=document),s.querySelector(e)}function M(e){if(e)return e.setAttribute("style","display:none;"),e}function C(e){if(e)return e.removeAttribute("style"),e}const ce={activeColor:"#ABE67E",completedColor:"#C8F2BE"};class ue{constructor(s,t){this._options=s.extend({},ce,this._options,t)}getSymbol(s){return{measureDrag:{clickable:!1,radius:4,color:this._options.activeColor,weight:2,opacity:.7,fillColor:this._options.activeColor,fillOpacity:.5,className:"layer-measuredrag"},measureArea:{clickable:!1,stroke:!1,fillColor:this._options.activeColor,fillOpacity:.2,className:"layer-measurearea"},measureBoundary:{clickable:!1,color:this._options.activeColor,weight:2,opacity:.9,fill:!1,className:"layer-measureboundary"},measureVertex:{clickable:!1,radius:4,color:this._options.activeColor,weight:2,opacity:1,fillColor:this._options.activeColor,fillOpacity:.7,className:"layer-measurevertex"},measureVertexActive:{clickable:!1,radius:4,color:this._options.activeColor,weight:2,opacity:1,fillColor:this._options.activeColor,fillOpacity:1,className:"layer-measurevertex active"},resultArea:{clickable:!0,color:this._options.completedColor,weight:2,opacity:.9,fillColor:this._options.completedColor,fillOpacity:.2,className:"layer-measure-resultarea"},resultLine:{clickable:!0,color:this._options.completedColor,weight:3,opacity:.9,fill:!1,className:"layer-measure-resultline"},resultPoint:{clickable:!0,radius:4,color:this._options.completedColor,weight:2,opacity:1,fillColor:this._options.completedColor,fillOpacity:.7,className:"layer-measure-resultpoint"}}[s]}}function D(e,s=0,t="pt-BR"){return isNaN(e)?e:s?e==null?void 0:e.toLocaleString(t,{minimumFractionDigits:s,maximumFractionDigits:s}):e==0?0:e?Number.isInteger(e)?e.toLocaleString(t):e.toLocaleString(t,{minimumFractionDigits:2,maximumFractionDigits:2}):""}function he(e){e.Control.Measure=e.Control.extend({_className:"leaflet-control-measure",options:{units:{},position:"topright",primaryLengthUnit:"feet",secondaryLengthUnit:"miles",primaryAreaUnit:"acres",activeColor:"#ABE67E",completedColor:"#C8F2BE",captureZIndex:1e4,popupOptions:{className:"leaflet-measure-resultpopup",autoPanPadding:[10,10]},controlTemplateRef:null,pointPopupTemplateRef:null,areaPopupTemplateRef:null,linePopupTemplateRef:null,resultsTemplateRef:null},initialize:function(s){e.setOptions(this,s);const{activeColor:t,completedColor:i}=this.options;this._symbols=new ue(e,{activeColor:t,completedColor:i}),this.options.units=e.extend({},w,this.options.units)},onAdd:function(s){return this._map=s,this._latlngs=[],this._initLayout(),s.on("click",this._collapse,this),this._layer=e.layerGroup().addTo(s),this._container},onRemove:function(s){s.off("click",this._collapse,this),s.removeLayer(this._layer)},_initLayout:function(){const s=this._className,t=this._container=e.DomUtil.create("div",`${s} leaflet-bar`);t.innerHTML=this.options.controlTemplateRef.value.innerHTML,t.setAttribute("aria-haspopup",!0),e.DomEvent.disableClickPropagation(t),e.DomEvent.disableScrollPropagation(t);const i=this.$toggle=y(".js-toggle",t);this.$interaction=y(".js-interaction",t);const a=y(".js-start",t),o=y(".js-cancel",t),u=y(".js-finish",t);this.$startPrompt=y(".js-startprompt",t),this.$measuringPrompt=y(".js-measuringprompt",t),this.$startHelp=y(".js-starthelp",t),this.$results=y(".js-results",t),this.$measureTasks=y(".js-measuretasks",t),this._collapse(),this._updateMeasureNotStarted(),e.Browser.android||(e.DomEvent.on(t,"mouseenter",this._expand,this),e.DomEvent.on(t,"mouseleave",this._collapse,this)),e.DomEvent.on(i,"click",e.DomEvent.stop),e.Browser.touch?e.DomEvent.on(i,"click",this._expand,this):e.DomEvent.on(i,"focus",this._expand,this),e.DomEvent.on(a,"click",e.DomEvent.stop),e.DomEvent.on(a,"click",this._startMeasure,this),e.DomEvent.on(o,"click",e.DomEvent.stop),e.DomEvent.on(o,"click",this._finishMeasure,this),e.DomEvent.on(u,"click",e.DomEvent.stop),e.DomEvent.on(u,"click",this._handleMeasureDoubleClick,this)},_expand:function(){M(this.$toggle),C(this.$interaction)},_collapse:function(){this._locked||(M(this.$interaction),C(this.$toggle))},_updateMeasureNotStarted:function(){M(this.$startHelp),M(this.$results),M(this.$measureTasks),M(this.$measuringPrompt),C(this.$startPrompt)},_updateMeasureStartedNoPoints:function(){M(this.$results),C(this.$startHelp),C(this.$measureTasks),M(this.$startPrompt),C(this.$measuringPrompt)},_updateMeasureStartedWithPoints:function(){M(this.$startHelp),C(this.$results),C(this.$measureTasks),M(this.$startPrompt),C(this.$measuringPrompt)},_startMeasure:function(){this._locked=!0,this._measureVertexes=e.featureGroup().addTo(this._layer),this._captureMarker=e.marker(this._map.getCenter(),{clickable:!0,zIndexOffset:this.options.captureZIndex,opacity:0,autoPanOnFocus:!1}).addTo(this._layer),this._setCaptureMarkerIcon(),this._captureMarker.on("mouseout",this._handleMapMouseOut,this).on("dblclick",this._handleMeasureDoubleClick,this).on("click",this._handleMeasureClick,this),this._map.on("mousemove",this._handleMeasureMove,this).on("mouseout",this._handleMapMouseOut,this).on("move",this._centerCaptureMarker,this).on("resize",this._setCaptureMarkerIcon,this),e.DomEvent.on(this._container,"mouseenter",this._handleMapMouseOut,this),this._updateMeasureStartedNoPoints(),this._map.fire("measurestart",null,!1)},_finishMeasure:function(){const s=e.extend({},this._resultsModel,{points:this._latlngs});this._locked=!1,e.DomEvent.off(this._container,"mouseover",this._handleMapMouseOut,this),this._clearMeasure(),this._captureMarker.off(),this._map.off("mousemove").off("mouseout").off("move").off("resize"),this._layer.removeLayer(this._measureVertexes).removeLayer(this._captureMarker),this._measureVertexes=null,this._updateMeasureNotStarted(),this._collapse(),this._map.fire("measurefinish",s,!1)},_clearMeasure:function(){this._latlngs=[],this._resultsModel=null,this._measureVertexes.clearLayers(),this._measureDrag&&this._layer.removeLayer(this._measureDrag),this._measureArea&&this._layer.removeLayer(this._measureArea),this._measureBoundary&&this._layer.removeLayer(this._measureBoundary),this._measureDrag=null,this._measureArea=null,this._measureBoundary=null},_centerCaptureMarker:function(){this._captureMarker.setLatLng(this._map.getCenter())},_setCaptureMarkerIcon:function(){this._captureMarker.setIcon(e.divIcon({iconSize:this._map.getSize().multiplyBy(2)}))},_getMeasurementDisplayStrings:function(s){const t=this.options.units;return{lengthDisplay:i(s.length,this.options.primaryLengthUnit,this.options.secondaryLengthUnit),areaDisplay:i(s.area,this.options.primaryAreaUnit,this.options.secondaryAreaUnit)};function i(o,u,c){if(u&&t[u]){let n=a(o,t[u]);if(c&&t[c]){const l=a(o,t[c]);n=`${n} (${l})`}return n}return a(o,null)}function a(o,u){const c={acres:"acres",feet:"feet",kilometers:"kilometers",hectares:"hectares",meters:"meters",miles:"miles",sqfeet:"sqfeet",sqmeters:"sqmeters",sqmiles:"sqmiles"},n=e.extend({factor:1,decimals:0},u),l=D(o*n.factor,n.decimals),m=c[n.display]||n.display;return[l,m].join(" ")}},_updateResults:function(){const s=U(e,this._latlngs);this.options.model.value=this._resultsModel=e.extend({},s,this._getMeasurementDisplayStrings(s),{pointCount:this._latlngs.length}),setTimeout(()=>{this.$results.innerHTML=this.options.resultsTemplateRef.value.innerHTML},100)},_handleMeasureMove:function(s){this._measureDrag?this._measureDrag.setLatLng(s.latlng):this._measureDrag=e.circleMarker(s.latlng,this._symbols.getSymbol("measureDrag")).addTo(this._layer),this._measureDrag.bringToFront()},_handleMeasureDoubleClick:function(){const s=this._latlngs;let t,i;if(this._finishMeasure(),!s.length)return;s.length>2&&s.push(s[0]);const a=U(e,s);s.length===1?(t=e.circleMarker(s[0],this._symbols.getSymbol("resultPoint")),this.options.model.value=a,i=this.options.pointPopupTemplateRef.value):s.length===2?(t=e.polyline(s,this._symbols.getSymbol("resultLine")),this.options.model.value=e.extend({},a,this._getMeasurementDisplayStrings(a)),i=this.options.linePopupTemplateRef.value):(t=e.polygon(s,this._symbols.getSymbol("resultArea")),this.options.model.value=e.extend({},a,this._getMeasurementDisplayStrings(a)),i=this.options.areaPopupTemplateRef.value),setTimeout(()=>{const o=e.DomUtil.create("div","");o.innerHTML=i.innerHTML;const u=y(".js-zoomto",o);u&&(e.DomEvent.on(u,"click",e.DomEvent.stop),e.DomEvent.on(u,"click",function(){t.getBounds?this._map.fitBounds(t.getBounds(),{padding:[20,20],maxZoom:17}):t.getLatLng&&this._map.panTo(t.getLatLng())},this));const c=y(".js-deletemarkup",o);c&&(e.DomEvent.on(c,"click",e.DomEvent.stop),e.DomEvent.on(c,"click",function(){this._layer.removeLayer(t)},this)),t.addTo(this._layer),t.bindPopup(o,this.options.popupOptions),t.getBounds?t.openPopup(t.getBounds().getCenter()):t.getLatLng&&t.openPopup(t.getLatLng())},100)},_handleMeasureClick:function(s){const t=this._map.mouseEventToLatLng(s.originalEvent),i=this._latlngs[this._latlngs.length-1],a=this._symbols.getSymbol("measureVertex");(!i||!t.equals(i))&&(this._latlngs.push(t),this._addMeasureArea(this._latlngs),this._addMeasureBoundary(this._latlngs),this._measureVertexes.eachLayer(function(o){o.setStyle(a),o._path&&o._path.setAttribute("class",a.className)}),this._addNewVertex(t),this._measureBoundary&&this._measureBoundary.bringToFront(),this._measureVertexes.bringToFront()),this._updateResults(),this._updateMeasureStartedWithPoints()},_handleMapMouseOut:function(){this._measureDrag&&(this._layer.removeLayer(this._measureDrag),this._measureDrag=null)},_addNewVertex:function(s){e.circleMarker(s,this._symbols.getSymbol("measureVertexActive")).addTo(this._measureVertexes)},_addMeasureArea:function(s){if(s.length<3){this._measureArea&&(this._layer.removeLayer(this._measureArea),this._measureArea=null);return}this._measureArea?this._measureArea.setLatLngs(s):this._measureArea=e.polygon(s,this._symbols.getSymbol("measureArea")).addTo(this._layer)},_addMeasureBoundary:function(s){if(s.length<2){this._measureBoundary&&(this._layer.removeLayer(this._measureBoundary),this._measureBoundary=null);return}this._measureBoundary?this._measureBoundary.setLatLngs(s):this._measureBoundary=e.polyline(s,this._symbols.getSymbol("measureBoundary")).addTo(this._layer)}}),e.Map.mergeOptions({measureControl:!1}),e.Map.addInitHook(function(){this.options.measureControl&&(this.measureControl=new e.Control.Measure().addTo(this))}),e.control.measure=function(s){return new e.Control.Measure(s)}}const Ve="",me={class:"templates"},fe=[r.createStaticVNode('<a class="leaflet-control-measure-toggle js-toggle" href="#" title="Medir dist\xE2ncia e \xE1rea"> Medir </a><div class="leaflet-control-measure-interaction js-interaction"><div class="js-startprompt startprompt"><h3>Medir dist\xE2ncia e \xE1rea</h3><ul class="tasks"><a href="#" class="js-start start">Criar nova medida</a></ul></div><div class="js-measuringprompt"><h3>Medir dist\xE2ncia e \xE1rea</h3><p class="js-starthelp">Comece a medir adicionando pontos no mapa</p><div class="js-results results"></div><ul class="js-measuretasks tasks"><li><a href="#" class="js-cancel cancel">Cancelar</a></li><li><a href="#" class="js-finish finish">Finalizar</a></li></ul></div></div>',2)],de=r.createElementVNode("h3",null,"Localiza\xE7\xE3o do ponto",-1),pe=r.createElementVNode("span",{class:"coorddivider"},"/",-1),_e=r.createElementVNode("span",{class:"coorddivider"},"/",-1),ye=r.createElementVNode("ul",{class:"tasks"},[r.createElementVNode("li",null,[r.createElementVNode("a",{href:"#",class:"js-zoomto zoomto"},"Centralizar no ponto")]),r.createElementVNode("li",null,[r.createElementVNode("a",{href:"#",class:"js-deletemarkup deletemarkup"},"Excluir")])],-1),ge=r.createElementVNode("h3",null,"Medida de linha",-1),Me=r.createElementVNode("ul",{class:"tasks"},[r.createElementVNode("li",null,[r.createElementVNode("a",{href:"#",class:"js-zoomto zoomto"},"Centralizar na linha")]),r.createElementVNode("li",null,[r.createElementVNode("a",{href:"#",class:"js-deletemarkup deletemarkup"},"Excluir")])],-1),Ee=r.createElementVNode("h3",null,"\xC1rea",-1),ke=r.createElementVNode("ul",{class:"tasks"},[r.createElementVNode("li",null,[r.createElementVNode("a",{href:"#",class:"js-zoomto zoomto"},"Centralizar na \xE1rea")]),r.createElementVNode("li",null,[r.createElementVNode("a",{href:"#",class:"js-deletemarkup deletemarkup"},"Excluir")])],-1),be={class:"group"},Ce=r.createElementVNode("p",{class:"lastpoint heading"},"\xDAltimo ponto adicionado",-1),Ne=r.createElementVNode("span",{class:"coorddivider"},"/",-1),ve=r.createElementVNode("span",{class:"coorddivider"},"/",-1),we={key:0,class:"group"},De=r.createElementVNode("span",{class:"heading"},"Extens\xE3o da linha",-1),Pe={key:1,class:"group"},Se=r.createElementVNode("span",{class:"heading"},"\xC1rea",-1);return{__name:"LMeasure",props:["mapRef"],setup(e){const s=e,t=typeof self=="object"&&self.self===self&&self||typeof global=="object"&&global.global===global&&global||void 0,{mapRef:i}=r.toRefs(s),a=r.ref(),o=r.ref(),u=r.ref(),c=r.ref(),n=r.ref(),l=r.ref({}),m=r.inject("useGlobalLeaflet");return r.watch(i,async h=>{const d=m?t.L:await import("leaflet/dist/leaflet-src.esm");he(d),i.value&&new d.Control.Measure({primaryLengthUnit:"meters",secondaryLengthUnit:"kilometers",primaryAreaUnit:"sqmeters",secondaryAreaUnit:"sqkilometers",controlTemplateRef:a,pointPopupTemplateRef:o,areaPopupTemplateRef:u,linePopupTemplateRef:c,resultsTemplateRef:n,model:l}).addTo(h)}),(h,d)=>{var p,E,N,S,k,v,_,b,g,F,H,W,J,Z,K,Q;return r.openBlock(),r.createElementBlock("section",me,[r.createElementVNode("section",{ref_key:"controlTemplateRef",ref:a},fe,512),r.createElementVNode("section",{ref_key:"pointPopupTemplateRef",ref:o},[de,r.createElementVNode("p",null,[r.createTextVNode(r.toDisplayString((E=(p=l.value.lastCoord)==null?void 0:p.dms)==null?void 0:E.y)+" ",1),pe,r.createTextVNode(" "+r.toDisplayString((S=(N=l.value.lastCoord)==null?void 0:N.dms)==null?void 0:S.x),1)]),r.createElementVNode("p",null,[r.createTextVNode(r.toDisplayString(r.unref(D)((v=(k=l.value.lastCoord)==null?void 0:k.dd)==null?void 0:v.y,2))+" ",1),_e,r.createTextVNode(" "+r.toDisplayString(r.unref(D)((b=(_=l.value.lastCoord)==null?void 0:_.dd)==null?void 0:b.x,2)),1)]),ye],512),r.createElementVNode("section",{ref_key:"linePopupTemplateRef",ref:c},[ge,r.createElementVNode("p",null,r.toDisplayString(l.value.lengthDisplay),1),Me],512),r.createElementVNode("section",{ref_key:"areaPopupTemplateRef",ref:u},[Ee,r.createElementVNode("p",null,r.toDisplayString(l.value.areaDisplay),1),r.createElementVNode("p",null,r.toDisplayString(l.value.lengthDisplay)+" de per\xEDmetro",1),ke],512),r.createElementVNode("section",{ref_key:"resultsTemplateRef",ref:n},[r.createElementVNode("div",be,[Ce,r.createElementVNode("p",null,[r.createTextVNode(r.toDisplayString((F=(g=l.value.lastCoord)==null?void 0:g.dms)==null?void 0:F.y)+" ",1),Ne,r.createTextVNode(" "+r.toDisplayString((W=(H=l.value.lastCoord)==null?void 0:H.dms)==null?void 0:W.x),1)]),r.createElementVNode("p",null,[r.createTextVNode(r.toDisplayString(r.unref(D)((Z=(J=l.value.lastCoord)==null?void 0:J.dd)==null?void 0:Z.y,2))+" ",1),ve,r.createTextVNode(" "+r.toDisplayString(r.unref(D)((Q=(K=l.value.lastCoord)==null?void 0:K.dd)==null?void 0:Q.x,2)),1)])]),l.value.pointCount>1?(r.openBlock(),r.createElementBlock("div",we,[r.createElementVNode("p",null,[De,r.createTextVNode(" "+r.toDisplayString(l.value.lengthDisplay),1)])])):r.createCommentVNode("",!0),l.value.pointCount>2?(r.openBlock(),r.createElementBlock("div",Pe,[r.createElementVNode("p",null,[Se,r.createTextVNode(" "+r.toDisplayString(l.value.areaDisplay),1)])])):r.createCommentVNode("",!0)],512)])}}}});
